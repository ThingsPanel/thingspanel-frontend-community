<!DOCTYPE html>
<html>
<head>
    <title>é…ç½®ç»“æ„å†²çªä¿®å¤éªŒè¯</title>
    <meta charset="utf-8">
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            margin: 20px; 
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .status { 
            padding: 25px; 
            margin: 20px 0; 
            border-radius: 12px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.2); 
            backdrop-filter: blur(10px);
        }
        .success { 
            background: rgba(40, 167, 69, 0.15); 
            border: 2px solid #28a745; 
        }
        .critical { 
            background: rgba(220, 53, 69, 0.15); 
            border: 2px solid #dc3545; 
        }
        .fix-highlight {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #ff6b6b;
        }
        .code { 
            background: rgba(0,0,0,0.4); 
            padding: 12px 16px; 
            border-radius: 6px; 
            font-family: 'JetBrains Mono', 'Consolas', monospace; 
            font-size: 13px;
            color: #feca57;
            margin: 10px 0;
        }
        h1 { 
            text-align: center; 
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.8em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        h3 { 
            color: #feca57; 
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .before {
            background: rgba(220, 53, 69, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
        }
        .after {
            background: rgba(40, 167, 69, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ é…ç½®ç»“æ„å†²çªä¿®å¤</h1>
        
        <div class="critical status">
            <h3>ğŸ¯ é—®é¢˜æ ¹å› åˆ†æ</h3>
            
            <div class="fix-highlight">
                <h4>âŒ é…ç½®ç»“æ„å†²çª</h4>
                <p>æ‚¨å‘ç°äº†å…³é”®é—®é¢˜ï¼æˆ‘ä»¬åœ¨å¤„ç† <code>customize.themeColor</code> æ—¶åˆ›å»ºäº†**é…ç½®ç»“æ„å†²çª**ï¼š</p>
                
                <div class="code">
finalConfig: {
  customize: { themeColor: "#8C15F4FF" },    // åµŒå¥—ç»“æ„
  "customize.themeColor": "#8C15F4FF",       // æ‰å¹³å±æ€§é”®
  themeColor: "#F41572FF"                    // åŸå§‹å±æ€§ï¼ˆæ—§å€¼ï¼‰
}
                </div>
                
                <p>ç»„ä»¶åœ¨è¯»å– <code>themeColor</code> æ—¶ï¼Œå¯èƒ½è·å–åˆ°çš„æ˜¯åŸå§‹å€¼è€Œä¸æ˜¯æ›´æ–°åçš„å€¼ï¼</p>
            </div>
            
            <div class="before-after">
                <div class="before">
                    <h4>âŒ ä¿®å¤å‰çš„é—®é¢˜</h4>
                    <ul>
                        <li>åµŒå¥—å±æ€§å’Œæ‰å¹³å±æ€§åŒæ—¶å­˜åœ¨</li>
                        <li>ç»„ä»¶æ— æ³•ç¡®å®šä½¿ç”¨å“ªä¸ªå€¼</li>
                        <li>æ·±åº¦åˆå¹¶ä¸å¤Ÿï¼Œéœ€è¦æ‰å¹³åŒ–</li>
                        <li>é…ç½®ä¼˜å…ˆçº§ä¸æ˜ç¡®</li>
                    </ul>
                </div>
                
                <div class="after">
                    <h4>âœ… ä¿®å¤åçš„æ–¹æ¡ˆ</h4>
                    <ul>
                        <li>åµŒå¥—å±æ€§è‡ªåŠ¨æ‰å¹³åŒ–åˆ°æ ¹çº§åˆ«</li>
                        <li>è¦†ç›–åŒåçš„åŸå§‹å±æ€§</li>
                        <li>ç»„ä»¶å§‹ç»ˆè·å¾—æœ€æ–°å€¼</li>
                        <li>é…ç½®ç»“æ„æ¸…æ™°ç»Ÿä¸€</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="success status">
            <h3>âœ… å®Œæ•´ä¿®å¤æ–¹æ¡ˆ</h3>
            
            <div class="fix-highlight">
                <h4>ğŸ”§ æ‰å¹³åŒ–å¤„ç†æœºåˆ¶</h4>
                <p>åœ¨é…ç½®åˆå¹¶çš„æœ€åæ­¥éª¤ï¼Œæ·»åŠ äº† <code>flattenCustomize</code> å‡½æ•°ï¼š</p>
                
                <div class="code">
const flattenCustomize = (config: any): any => {
  const result = { ...config }
  if (config.customize && typeof config.customize === 'object') {
    // å°†customizeä¸­çš„å±æ€§æå–åˆ°æ ¹çº§åˆ«ï¼Œè¦†ç›–åŒåå±æ€§
    Object.assign(result, config.customize)
  }
  return result
}

configData = flattenCustomize(configData)
                </div>
            </div>
            
            <div class="fix-highlight">
                <h4>ğŸ‰ ç°åœ¨çš„é…ç½®ç»“æ„</h4>
                <div class="code">
finalConfig: {
  customize: { themeColor: "#8C15F4FF" },    // ä¿ç•™åµŒå¥—ç»“æ„ï¼ˆä¾›å…¶ä»–ç”¨é€”ï¼‰
  themeColor: "#8C15F4FF"                    // âœ… æ‰å¹³åŒ–åçš„æœ€æ–°å€¼
}
                </div>
                
                <p>ç»„ä»¶ç°åœ¨ä¼šè·å–åˆ°æ­£ç¡®çš„ <code>themeColor: "#8C15F4FF"</code> å€¼ï¼</p>
            </div>
            
            <div class="fix-highlight">
                <h4>ğŸ”„ å®Œæ•´å¤„ç†æµç¨‹</h4>
                <ol>
                    <li><strong>åµŒå¥—å±æ€§åˆ›å»º</strong>ï¼šcustomize.themeColor â†’ { customize: { themeColor: value } }</li>
                    <li><strong>æ·±åº¦é…ç½®åˆå¹¶</strong>ï¼šåˆå¹¶åŸå§‹é…ç½®å’Œè¦†ç›–é…ç½®</li>
                    <li><strong>å±æ€§æ‰å¹³åŒ–</strong>ï¼šcustomize.themeColor æå–ä¸ºæ ¹çº§åˆ«çš„ themeColor</li>
                    <li><strong>ä¼˜å…ˆçº§ç¡®ä¿</strong>ï¼šæ–°å€¼è¦†ç›–æ—§å€¼</li>
                    <li><strong>ç»„ä»¶æ¥æ”¶</strong>ï¼šç»„ä»¶è·å¾—æœ€ç»ˆçš„æ‰å¹³åŒ–é…ç½®</li>
                </ol>
            </div>
        </div>

        <div class="status" style="background: rgba(54, 162, 235, 0.15); border: 2px solid #36a2eb;">
            <h3>ğŸ§ª éªŒè¯æµ‹è¯•æ–¹æ³•</h3>
            
            <div class="fix-highlight">
                <h4>é¢„æœŸä¿®å¤æ•ˆæœ</h4>
                <ul>
                    <li>âœ… ç‚¹å‡»äº¤äº’åï¼Œç›®æ ‡ç»„ä»¶é¢œè‰²ç«‹å³å˜åŒ–</li>
                    <li>âœ… æ§åˆ¶å°æ˜¾ç¤º"æ‰å¹³åŒ–customizeå±æ€§"æ—¥å¿—</li>
                    <li>âœ… finalConfigä¸­themeColorä¸ºæœ€æ–°å€¼</li>
                    <li>âœ… æ— é…ç½®å†²çªï¼Œç»„ä»¶æ­£ç¡®æ¸²æŸ“</li>
                </ul>
            </div>
            
            <div class="fix-highlight">
                <h4>æ—¥å¿—æ£€æŸ¥è¦ç‚¹</h4>
                <div class="code">
// åº”è¯¥çœ‹åˆ°çš„æ–°æ—¥å¿—
[Card2Wrapper] æ‰å¹³åŒ–customizeå±æ€§
{
  componentId: "simple-display_xxx",
  customizeProps: { themeColor: "#8C15F4FF" },
  flattenedConfig: { ...å…¶ä»–å±æ€§, themeColor: "#8C15F4FF" }
}

// finalConfig åº”è¯¥æ˜¯å¹²å‡€çš„ç»“æ„
finalConfig: {
  themeColor: "#8C15F4FF"  // â† è¿™ä¸ªå€¼ç°åœ¨åº”è¯¥ç”Ÿæ•ˆäº†ï¼
}
                </div>
            </div>
        </div>

        <div class="success status">
            <h3>ğŸš€ ç«‹å³æµ‹è¯•</h3>
            <p>ç°åœ¨é‡æ–°æµ‹è¯•æ‚¨çš„äº¤äº’é…ç½®ï¼š</p>
            <ol>
                <li>ç‚¹å‡»é…ç½®äº†äº¤äº’çš„ç»„ä»¶</li>
                <li>è§‚å¯Ÿç›®æ ‡ç»„ä»¶çš„é¢œè‰²æ˜¯å¦ç«‹å³å˜åŒ–</li>
                <li>æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰æ‰å¹³åŒ–å¤„ç†çš„æ—¥å¿—</li>
                <li>ç¡®è®¤ä¸å†æœ‰é…ç½®ç»“æ„å†²çª</li>
            </ol>
            
            <div class="fix-highlight" style="text-align: center; font-size: 1.2em; font-weight: bold;">
                ğŸ¯ è¿™æ¬¡ä¿®å¤åº”è¯¥å½»åº•è§£å†³å±æ€§æ›´æ–°ä¸ç”Ÿæ•ˆçš„é—®é¢˜ï¼
            </div>
        </div>
    </div>

    <script>
        console.group('ğŸ”§ é…ç½®ç»“æ„å†²çªä¿®å¤è¯¦æƒ…');
        console.log('ä¿®å¤æ—¶é—´:', new Date().toLocaleString());
        console.log('æ ¸å¿ƒé—®é¢˜: åµŒå¥—å±æ€§ä¸æ‰å¹³å±æ€§çš„ç»“æ„å†²çª');
        
        console.group('ä¿®å¤å†…å®¹:');
        console.log('âœ… 1. æ·»åŠ æ‰å¹³åŒ–å¤„ç†å‡½æ•° flattenCustomize');
        console.log('âœ… 2. customizeå±æ€§è‡ªåŠ¨æå–åˆ°æ ¹çº§åˆ«');
        console.log('âœ… 3. æ–°å€¼è¦†ç›–æ—§å€¼ï¼Œç¡®ä¿ä¼˜å…ˆçº§');
        console.log('âœ… 4. æ·±åº¦åˆå¹¶ä¸æ‰å¹³åŒ–å¤„ç†ç»“åˆ');
        console.groupEnd();

        console.group('é¢„æœŸæ•ˆæœ:');
        console.log('ğŸ¯ ç»„ä»¶æ¥æ”¶åˆ°æ­£ç¡®çš„themeColorå€¼');
        console.log('ğŸ¯ è§†è§‰æ•ˆæœç«‹å³åæ˜ å±æ€§å˜åŒ–');
        console.log('ğŸ¯ æ— é…ç½®ç»“æ„å†²çª');
        console.log('ğŸ¯ æ¸…æ™°çš„æ—¥å¿—è¾“å‡º');
        console.groupEnd();

        console.groupEnd();
        
        console.log('%cğŸ‰ é…ç½®ç»“æ„é—®é¢˜ä¿®å¤å®Œæˆï¼', 'color: #feca57; font-size: 16px; font-weight: bold;');
    </script>
</body>
</html>