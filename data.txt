ThingsPanel æ¶æ„é‡æ„å¼€å‘è®¡åˆ’                                                                            â”‚
     â”‚                                                                                                         â”‚
     â”‚ ğŸ¯ æ ¸å¿ƒç›®æ ‡                                                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ è§£å†³æ¶æ„è¯„å®¡æŠ¥å‘Šä¸­è¯†åˆ«çš„ä¸¥é‡åˆ†å±‚é—®é¢˜å’Œå¾ªç¯ä¾èµ–,å»ºç«‹æ¸…æ™°çš„å•å‘ä¾èµ–æ¶æ„ä½“ç³»ã€‚                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ ğŸ“Š é‡æ„ä¼˜å…ˆçº§ç­–ç•¥                                                                                       â”‚
     â”‚                                                                                                         â”‚
     â”‚ é˜¶æ®µä¸€ï¼šä¾èµ–å€’ç½® - åˆ‡æ–­åå‘ä¾èµ– (P0 - å…³é”®)                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ ç›®æ ‡: æ¶ˆé™¤ core å±‚å¯¹ä¸Šå±‚æ¨¡å—çš„æ‰€æœ‰ç›´æ¥å¼•ç”¨                                                              â”‚
     â”‚                                                                                                         â”‚
     â”‚ 1.1 é‡æ„ VisualEditorBridge.ts                                                                          â”‚
     â”‚                                                                                                         â”‚
     â”‚ - é—®é¢˜: core å±‚ç›´æ¥å¯¼å…¥ visual-editor çš„ store                                                          â”‚
     â”‚ - æ–¹æ¡ˆ: åº”ç”¨ä¾èµ–æ³¨å…¥æ¨¡å¼                                                                                â”‚
     â”‚   - åœ¨ core å®šä¹‰ IEditorContext æ¥å£                                                                    â”‚
     â”‚   - visual-editor å®ç°è¯¥æ¥å£å¹¶æ³¨å…¥åˆ° core                                                               â”‚
     â”‚   - ç§»é™¤ import { useEditorStore } ç›´æ¥å¼•ç”¨                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ 1.2 ç§»é™¤ InteractionCardWizard.vue åå‘ä¾èµ–                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ - é—®é¢˜: core å±‚ UI ç»„ä»¶å¼•ç”¨ card2.1 å’Œ visual-editor                                                    â”‚
     â”‚ - æ–¹æ¡ˆ:                                                                                                 â”‚
     â”‚   - å°† InteractionCardWizard.vue ä» src/core/interaction-system/components/ ç§»è‡³ src/components/common/ â”‚
     â”‚   - æå–ä¸šåŠ¡é€»è¾‘åˆ° src/core/interaction-system/InteractionService.ts                                    â”‚
     â”‚   - UI ç»„ä»¶é€šè¿‡ props å’Œ callbacks ä¸ core æœåŠ¡é€šä¿¡                                                     â”‚
     â”‚                                                                                                         â”‚
     â”‚ 1.3 é‡æ„ SystemInitializer.ts                                                                           â”‚
     â”‚                                                                                                         â”‚
     â”‚ - é—®é¢˜: ç›´æ¥å¯¼å…¥ @/card2.1/core/OptimizedInitializationManager                                          â”‚
     â”‚ - æ–¹æ¡ˆ:                                                                                                 â”‚
     â”‚   - å®šä¹‰ ISubSystemInitializer æ¥å£                                                                     â”‚
     â”‚   - card2.1 å®ç°æ¥å£å¹¶é€šè¿‡æ³¨å†Œæœºåˆ¶åŠ å…¥åˆå§‹åŒ–æµç¨‹                                                        â”‚
     â”‚                                                                                                         â”‚
     â”‚ é˜¶æ®µäºŒï¼šæ¥å£æŠ½è±¡ - å»ºç«‹å¥‘çº¦å±‚ (P0 - å…³é”®)                                                               â”‚
     â”‚                                                                                                         â”‚
     â”‚ 2.1 åˆ›å»º Core æŠ½è±¡æ¥å£å±‚                                                                                â”‚
     â”‚                                                                                                         â”‚
     â”‚ åœ¨ src/core/interfaces/ æ–°å»º:                                                                           â”‚
     â”‚ - IExposableProperties.ts - ç»„ä»¶å±æ€§æš´éœ²æ¥å£                                                            â”‚
     â”‚ - IEditorContext.ts - ç¼–è¾‘å™¨ä¸Šä¸‹æ–‡æ¥å£                                                                  â”‚
     â”‚ - IComponentAdapter.ts - ç»„ä»¶é€‚é…å™¨æ¥å£                                                                 â”‚
     â”‚ - IDataSourceProvider.ts - æ•°æ®æºæä¾›è€…æ¥å£                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ 2.2 Card2.1 é€‚é…å™¨å®ç°                                                                                  â”‚
     â”‚                                                                                                         â”‚
     â”‚ åˆ›å»º src/card2.1/integration/core-adapter.ts:                                                           â”‚
     â”‚ - Card2ComponentAdapter å®ç° IExposableProperties                                                       â”‚
     â”‚ - å†…éƒ¨è°ƒç”¨ PropertyExposureManager,å¯¹å¤–æš´éœ²æ ‡å‡†æ¥å£                                                     â”‚
     â”‚ - å°† card2.1 ç‰¹å®šå®ç°ä¸ core è§£è€¦                                                                       â”‚
     â”‚                                                                                                         â”‚
     â”‚ 2.3 Visual Editor é€‚é…å™¨å®ç°                                                                            â”‚
     â”‚                                                                                                         â”‚
     â”‚ åˆ›å»º src/components/visual-editor/integration/core-adapter.ts:                                          â”‚
     â”‚ - EditorContextAdapter å®ç° IEditorContext                                                              â”‚
     â”‚ - æ¡¥æ¥ editor store å’Œ core å±‚éœ€æ±‚                                                                      â”‚
     â”‚                                                                                                         â”‚
     â”‚ é˜¶æ®µä¸‰ï¼šèŒè´£åˆ†ç¦» - æ˜ç¡®è¾¹ç•Œ (P1 - é‡è¦)                                                                 â”‚
     â”‚                                                                                                         â”‚
     â”‚ 3.1 é‡æ„é…ç½®å‘ç°æœºåˆ¶                                                                                    â”‚
     â”‚                                                                                                         â”‚
     â”‚ - é—®é¢˜: ConfigDiscovery.ts èŒè´£ä¸æ¸…,ä¸»åŠ¨æ‰«æå…¶ä»–æ¨¡å—                                                    â”‚
     â”‚ - æ–¹æ¡ˆ:                                                                                                 â”‚
     â”‚   - ç§»åŠ¨åˆ°åº”ç”¨åˆå§‹åŒ–å±‚ (src/bootstrap/ComponentRegistry.ts)                                             â”‚
     â”‚   - ä½¿ç”¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼,å„æ¨¡å—ä¸»åŠ¨æ³¨å†Œç»„ä»¶                                                                â”‚
     â”‚   - visual-editor è¢«åŠ¨æ¥æ”¶æ³¨å†Œçš„ç»„ä»¶                                                                    â”‚
     â”‚                                                                                                         â”‚
     â”‚ 3.2 æ•°æ®æµæ ‡å‡†åŒ–                                                                                        â”‚
     â”‚                                                                                                         â”‚
     â”‚ - å¼ºåˆ¶æ‰§è¡Œ visual-editor â†’ core â†’ card2.1 å•å‘æ•°æ®æµ                                                    â”‚
     â”‚ - æ‰€æœ‰æ•°æ®æ“ä½œé€šè¿‡ SimpleDataBridge ç»Ÿä¸€æ¥å£                                                            â”‚
     â”‚ - ç¦æ­¢è·¨å±‚ç›´æ¥è°ƒç”¨                                                                                      â”‚
     â”‚                                                                                                         â”‚
     â”‚ 3.3 UI ç»„ä»¶åˆ†å±‚æ•´ç†                                                                                     â”‚
     â”‚                                                                                                         â”‚
     â”‚ - core å±‚ç§»é™¤æ‰€æœ‰ Vue ç»„ä»¶                                                                              â”‚
     â”‚ - ä»…ä¿ç•™çº¯ TypeScript æœåŠ¡å’Œå·¥å…·                                                                        â”‚
     â”‚ - UI ç»„ä»¶ç§»è‡³ src/components/ æˆ– feature ç›®å½•                                                           â”‚
     â”‚                                                                                                         â”‚
     â”‚ é˜¶æ®µå››ï¼šæ–‡ä»¶ç»“æ„é‡ç»„ (P2 - æ”¹è¿›)                                                                        â”‚
     â”‚                                                                                                         â”‚
     â”‚ 4.1 Core å±‚æ¸…ç†                                                                                         â”‚
     â”‚                                                                                                         â”‚
     â”‚ src/core/                                                                                               â”‚
     â”‚ â”œâ”€â”€ interfaces/           # æ–°å¢ï¼šæ‰€æœ‰æŠ½è±¡æ¥å£                                                          â”‚
     â”‚ â”œâ”€â”€ services/            # é‡ç»„ï¼šçº¯ä¸šåŠ¡é€»è¾‘æœåŠ¡                                                         â”‚
     â”‚ â”‚   â”œâ”€â”€ data/           # æ•°æ®ç›¸å…³æœåŠ¡                                                                  â”‚
     â”‚ â”‚   â”œâ”€â”€ interaction/    # äº¤äº’ç›¸å…³æœåŠ¡                                                                  â”‚
     â”‚ â”‚   â””â”€â”€ script/         # è„šæœ¬å¼•æ“æœåŠ¡                                                                  â”‚
     â”‚ â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰                                                                      â”‚
     â”‚ â””â”€â”€ utils/              # å·¥å…·å‡½æ•°                                                                      â”‚
     â”‚                                                                                                         â”‚
     â”‚ 4.2 Integration å±‚æ–°å»º                                                                                  â”‚
     â”‚                                                                                                         â”‚
     â”‚ src/integration/                                                                                        â”‚
     â”‚ â”œâ”€â”€ card2-core-adapter.ts      # card2.1 â†’ core é€‚é…                                                    â”‚
     â”‚ â”œâ”€â”€ editor-core-adapter.ts     # visual-editor â†’ core é€‚é…                                              â”‚
     â”‚ â””â”€â”€ system-bootstrap.ts        # ç³»ç»Ÿå¯åŠ¨æ•´åˆ                                                           â”‚
     â”‚                                                                                                         â”‚
     â”‚ 4.3 Components å±‚é‡ç»„                                                                                   â”‚
     â”‚                                                                                                         â”‚
     â”‚ src/components/                                                                                         â”‚
     â”‚ â”œâ”€â”€ interaction/         # ä» core ç§»å‡ºçš„äº¤äº’ UI                                                        â”‚
     â”‚ â”œâ”€â”€ data-config/        # ä» core ç§»å‡ºçš„é…ç½® UI                                                         â”‚
     â”‚ â”œâ”€â”€ visual-editor/      # ä¿æŒä¸å˜                                                                      â”‚
     â”‚ â””â”€â”€ common/             # å…±äº« UI ç»„ä»¶                                                                  â”‚
     â”‚                                                                                                         â”‚
     â”‚ é˜¶æ®µäº”ï¼šæµ‹è¯•ä¸éªŒè¯ (P1 - é‡è¦)                                                                          â”‚
     â”‚                                                                                                         â”‚
     â”‚ 5.1 æ¶æ„åˆè§„æ€§æµ‹è¯•                                                                                      â”‚
     â”‚                                                                                                         â”‚
     â”‚ - ç¼–å†™ ESLint è§„åˆ™æ£€æµ‹åå‘ä¾èµ–                                                                          â”‚
     â”‚ - æ·»åŠ  CI æ£€æŸ¥ç¡®ä¿åˆ†å±‚ä¸è¢«ç ´å                                                                          â”‚
     â”‚                                                                                                         â”‚
     â”‚ 5.2 é›†æˆæµ‹è¯•æ›´æ–°                                                                                        â”‚
     â”‚                                                                                                         â”‚
     â”‚ - æ›´æ–°æ‰€æœ‰æ¶‰åŠé‡æ„æ¨¡å—çš„æµ‹è¯•                                                                            â”‚
     â”‚ - éªŒè¯é€‚é…å™¨å±‚æ­£ç¡®å·¥ä½œ                                                                                  â”‚
     â”‚                                                                                                         â”‚
     â”‚ 5.3 åŠŸèƒ½å›å½’æµ‹è¯•                                                                                        â”‚
     â”‚                                                                                                         â”‚
     â”‚ - ç”¨æˆ·æ‰‹åŠ¨æµ‹è¯•æ‰€æœ‰äº¤äº’åŠŸèƒ½                                                                              â”‚
     â”‚ - éªŒè¯æ•°æ®ç»‘å®šç³»ç»Ÿæ­£å¸¸å·¥ä½œ                                                                              â”‚
     â”‚                                                                                                         â”‚
     â”‚ ğŸ”§ æŠ€æœ¯å®æ–½ç»†èŠ‚                                                                                         â”‚
     â”‚                                                                                                         â”‚
     â”‚ ä¾èµ–æ³¨å…¥ç¤ºä¾‹                                                                                            â”‚
     â”‚                                                                                                         â”‚
     â”‚ // src/core/interfaces/IEditorContext.ts                                                                â”‚
     â”‚ export interface IEditorContext {                                                                       â”‚
     â”‚   getCurrentMode(): 'edit' | 'preview'                                                                  â”‚
     â”‚   getComponentConfig(id: string): any                                                                   â”‚
     â”‚ }                                                                                                       â”‚
     â”‚                                                                                                         â”‚
     â”‚ // src/core/services/data/DataService.ts                                                                â”‚
     â”‚ export class DataService {                                                                              â”‚
     â”‚   constructor(private editorContext?: IEditorContext) {}                                                â”‚
     â”‚                                                                                                         â”‚
     â”‚   // ä½¿ç”¨æ³¨å…¥çš„ä¸Šä¸‹æ–‡è€Œéç›´æ¥å¯¼å…¥                                                                       â”‚
     â”‚ }                                                                                                       â”‚
     â”‚                                                                                                         â”‚
     â”‚ é€‚é…å™¨æ¨¡å¼ç¤ºä¾‹                                                                                          â”‚
     â”‚                                                                                                         â”‚
     â”‚ // src/card2.1/integration/core-adapter.ts                                                              â”‚
     â”‚ import { IExposableProperties } from '@/core/interfaces'                                                â”‚
     â”‚ import { propertyExposureManager } from '../core/PropertyExposureManager'                               â”‚
     â”‚                                                                                                         â”‚
     â”‚ export class Card2ComponentAdapter implements IExposableProperties {                                    â”‚
     â”‚   getExposableProperties(context: any) {                                                                â”‚
     â”‚     // è½¬æ¢å†…éƒ¨æ ¼å¼ä¸º core æ¥å£æ ¼å¼                                                                     â”‚
     â”‚     return propertyExposureManager.getWhitelistedProperties(...)                                        â”‚
     â”‚   }                                                                                                     â”‚
     â”‚ }                                                                                                       â”‚
     â”‚                                                                                                         â”‚
     â”‚ ğŸ“ˆ æˆåŠŸæŒ‡æ ‡                                                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ 1. âœ… Core å±‚é›¶åå‘ä¾èµ–                                                                                  â”‚
     â”‚ 2. âœ… æ‰€æœ‰æ¨¡å—é—´é€šè¿‡æ¥å£é€šä¿¡                                                                             â”‚
     â”‚ 3. âœ… UI ç»„ä»¶å®Œå…¨ç§»å‡º core å±‚                                                                            â”‚
     â”‚ 4. âœ… å¾ªç¯ä¾èµ–è­¦å‘Šæ¸…é›¶                                                                                   â”‚
     â”‚ 5. âœ… ç°æœ‰åŠŸèƒ½å®Œæ•´ä¿ç•™                                                                                   â”‚
     â”‚                                                                                                         â”‚
     â”‚ âš ï¸ é£é™©ä¸ç¼“è§£                                                                                           â”‚
     â”‚                                                                                                         â”‚
     â”‚ é£é™©: å¤§è§„æ¨¡é‡æ„å¯èƒ½ç ´åç°æœ‰åŠŸèƒ½                                                                        â”‚
     â”‚ ç¼“è§£:                                                                                                   â”‚
     â”‚ - åˆ†é˜¶æ®µæ‰§è¡Œ,æ¯é˜¶æ®µåå®Œæ•´æµ‹è¯•                                                                           â”‚
     â”‚ - ä¿ç•™æ—§ä»£ç åˆ†æ”¯ä½œä¸ºå›é€€é€‰é¡¹                                                                            â”‚
     â”‚ - ä¼˜å…ˆé‡æ„æœ€ä¸¥é‡çš„åå‘ä¾èµ–                                                                              â”‚
     â”‚                                                                                                         â”‚
     â”‚ é£é™©: å¼€å‘å‘¨æœŸè¾ƒé•¿                                                                                      â”‚
     â”‚ ç¼“è§£:                                                                                                   â”‚
     â”‚ - P0 ä»»åŠ¡ä¼˜å…ˆ,å¿«é€Ÿè§£å†³æ ¸å¿ƒé—®é¢˜                                                                          â”‚
     â”‚ - P2 ä»»åŠ¡å¯åç»­è¿­ä»£å®Œæˆ                                                                                 â”‚
     â”‚                                                                                                         â”‚
     â”‚ ğŸ“… é¢„ä¼°å·¥æœŸ                                                                                             â”‚
     â”‚                                                                                                         â”‚
     â”‚ - é˜¶æ®µä¸€: 3-5å¤© (å…³é”®è·¯å¾„)                                                                              â”‚
     â”‚ - é˜¶æ®µäºŒ: 3-4å¤© (å…³é”®è·¯å¾„)                                                                              â”‚
     â”‚ - é˜¶æ®µä¸‰: 2-3å¤©                                                                                         â”‚
     â”‚ - é˜¶æ®µå››: 2-3å¤©                                                                                         â”‚
     â”‚ - é˜¶æ®µäº”: 2å¤© (è´¯ç©¿å„é˜¶æ®µ)                                                                              â”‚
     â”‚                                                                                                         â”‚
     â”‚ æ€»è®¡: çº¦ 12-17 å¤©å¼€å‘å‘¨æœŸ
