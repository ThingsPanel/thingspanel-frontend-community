# ThingsPanel Config Engine é…ç½®å¼•æ“ç³»ç»Ÿ

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

ThingsPanel Config Engine æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„ç»Ÿä¸€é…ç½®ç®¡ç†ç³»ç»Ÿï¼Œä¸“ä¸º ThingsPanel IoT å¹³å°è®¾è®¡ã€‚å®ƒæä¾›äº†å®Œæ•´çš„é…ç½®ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒ…æ‹¬é…ç½®çš„åˆ›å»ºã€éªŒè¯ã€ç‰ˆæœ¬æ§åˆ¶ã€å¯¼å…¥å¯¼å‡ºã€æ¨¡æ¿ç®¡ç†å’Œå¯è§†åŒ–ç¼–è¾‘å™¨é›†æˆã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **ç»Ÿä¸€é…ç½®ç®¡ç†** - æ•´åˆæ‰€æœ‰åˆ†æ•£çš„é…ç½®ç³»ç»Ÿ
- âœ… **æ™ºèƒ½é…ç½®éªŒè¯** - å®æ—¶éªŒè¯å’Œé”™è¯¯æ£€æµ‹
- ğŸ“š **å®Œæ•´ç‰ˆæœ¬æ§åˆ¶** - Gitå¼çš„é…ç½®ç‰ˆæœ¬ç®¡ç†
- ğŸ¨ **ä¸°å¯Œæ¨¡æ¿ç³»ç»Ÿ** - å¯å‚æ•°åŒ–çš„é…ç½®æ¨¡æ¿
- ğŸ”„ **å¤šæ ¼å¼å¯¼å…¥å¯¼å‡º** - æ”¯æŒ JSONã€YAMLã€XML ç­‰æ ¼å¼
- ğŸ® **Visual Editor é›†æˆ** - æ— ç¼çš„å¯è§†åŒ–ç¼–è¾‘ä½“éªŒ
- ğŸš€ **é«˜æ€§èƒ½æ¶æ„** - äº‹ä»¶é©±åŠ¨å’Œæ™ºèƒ½ç¼“å­˜
- ğŸ›¡ï¸ **ä¼ä¸šçº§å®‰å…¨** - æƒé™æ§åˆ¶å’Œå®¡è®¡æ—¥å¿—

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Config Engine æ¶æ„å›¾                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Visual Editorâ”‚  â”‚  Component   â”‚  â”‚    API       â”‚      â”‚
â”‚  â”‚ Integration  â”‚  â”‚    System    â”‚  â”‚  Clients     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                 â”‚                 â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚              Unified API Manager                â”‚       â”‚
â”‚  â”‚   (ç»Ÿä¸€ API æ¥å£å±‚ï¼Œæä¾› CRUD å’Œé«˜çº§æ“ä½œ)         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                        â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚               Core Config Engine                â”‚       â”‚
â”‚  â”‚     (æ ¸å¿ƒé…ç½®å¼•æ“ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„)                   â”‚       â”‚
â”‚  â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚    â”‚         â”‚         â”‚         â”‚         â”‚               â”‚
â”‚ â”Œâ”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”   â”Œâ”€â”€â–¼â”€â”€â”          â”‚
â”‚ â”‚éªŒè¯å™¨â”‚   â”‚ç‰ˆæœ¬ â”‚   â”‚æ¨¡æ¿ â”‚   â”‚å¯¼å…¥ â”‚   â”‚äº‹ä»¶ â”‚          â”‚
â”‚ â”‚     â”‚   â”‚ç®¡ç† â”‚   â”‚ç³»ç»Ÿ â”‚   â”‚å¯¼å‡º â”‚   â”‚æ€»çº¿ â”‚          â”‚
â”‚ â”‚     â”‚   â”‚å™¨   â”‚   â”‚     â”‚   â”‚     â”‚   â”‚     â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æ¨¡å—ç»„æˆ

### 1. æ ¸å¿ƒæ¨¡å— (Core Engine)
- **æ–‡ä»¶**: `index.ts`
- **åŠŸèƒ½**: é…ç½®å¼•æ“æ ¸å¿ƒï¼Œæä¾›åŸºç¡€çš„é…ç½® CRUD æ“ä½œ
- **ç‰¹æ€§**: äº‹ä»¶é©±åŠ¨æ¶æ„ã€å¤šçº§ç´¢å¼•ã€ä¾èµ–ç®¡ç†

### 2. é…ç½®éªŒè¯å™¨ (Configuration Validator)
- **æ–‡ä»¶**: `config-validator.ts`
- **åŠŸèƒ½**: é…ç½®æ•°æ®çš„éªŒè¯å’Œè§„èŒƒæ£€æŸ¥
- **ç‰¹æ€§**: JSON Schemaã€è‡ªå®šä¹‰è§„åˆ™ã€æ‰¹é‡éªŒè¯ã€ç¼“å­˜ä¼˜åŒ–

### 3. API ç®¡ç†å™¨ (API Manager)
- **æ–‡ä»¶**: `config-api-manager.ts`
- **åŠŸèƒ½**: ç»Ÿä¸€çš„é…ç½®æ“ä½œæ¥å£
- **ç‰¹æ€§**: ä¸­é—´ä»¶æ”¯æŒã€æƒé™æ§åˆ¶ã€æ€§èƒ½ç›‘æ§ã€æ‰¹é‡æ“ä½œ

### 4. ç‰ˆæœ¬ç®¡ç†å™¨ (Version Manager)
- **æ–‡ä»¶**: `config-version-manager.ts`
- **åŠŸèƒ½**: é…ç½®ç‰ˆæœ¬æ§åˆ¶å’Œå†å²ç®¡ç†
- **ç‰¹æ€§**: ç‰ˆæœ¬å›æ»šã€å˜æ›´è¿½è¸ªã€ç‰ˆæœ¬æ¯”è¾ƒã€è‡ªåŠ¨æ¸…ç†

### 5. æ¨¡æ¿ç®¡ç†å™¨ (Template Manager)
- **æ–‡ä»¶**: `config-template-manager.ts`
- **åŠŸèƒ½**: é…ç½®æ¨¡æ¿å’Œå¯¼å…¥å¯¼å‡º
- **ç‰¹æ€§**: å‚æ•°åŒ–æ¨¡æ¿ã€å¤šæ ¼å¼æ”¯æŒã€æ¨¡æ¿å¸‚åœºã€æ ¼å¼è½¬æ¢

### 6. Visual Editor é›†æˆ (Visual Editor Integration)
- **æ–‡ä»¶**: `visual-editor-integration.ts`
- **åŠŸèƒ½**: ä¸å¯è§†åŒ–ç¼–è¾‘å™¨çš„æ·±åº¦é›†æˆ
- **ç‰¹æ€§**: å“åº”å¼çŠ¶æ€ã€å®æ—¶éªŒè¯ã€è‡ªåŠ¨ä¿å­˜ã€å†å²è®°å½•

### 7. ç±»å‹å®šä¹‰ (Types)
- **æ–‡ä»¶**: `types.ts`
- **åŠŸèƒ½**: å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- **ç‰¹æ€§**: ç±»å‹å®‰å…¨ã€æ³›å‹æ”¯æŒã€å·¥å…·ç±»å‹

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…å’Œåˆå§‹åŒ–

```typescript
import {
  initializeConfigEngine,
  configEngine,
  configurationAPIManager
} from '@/iot-visualization-platform/core/config-engine'

// åˆå§‹åŒ–é…ç½®å¼•æ“
const result = await initializeConfigEngine({
  enableVisualEditorIntegration: true,
  enableRealtimeValidation: true,
  enableAutoSave: true
})

if (result.success) {
  console.log('é…ç½®å¼•æ“åˆå§‹åŒ–æˆåŠŸ')
}
```

### 2. åŸºç¡€é…ç½®æ“ä½œ

```typescript
import { configurationAPIManager, ConfigurationType } from '@/iot-visualization-platform/core/config-engine'

// åˆ›å»ºæ–°é…ç½®
const createResult = await configurationAPIManager.createConfiguration({
  id: 'my-device-config',
  name: 'æˆ‘çš„è®¾å¤‡é…ç½®',
  type: ConfigurationType.DEVICE_TEMPLATE,
  version: '1.0.0',
  status: 'active',
  priority: 5,
  tags: ['è®¾å¤‡', 'ä¼ æ„Ÿå™¨'],
  target: ['production'],
  data: {
    protocol: 'mqtt',
    endpoint: 'broker.example.com',
    port: 1883
  },
  metadata: {
    creator: 'ç”¨æˆ·',
    source: 'api',
    isSystemConfig: false
  },
  createdAt: new Date(),
  updatedAt: new Date()
})

// æŸ¥è¯¢é…ç½®
const queryResult = await configurationAPIManager.queryConfigurations({
  type: ConfigurationType.DEVICE_TEMPLATE,
  status: 'active',
  tags: ['è®¾å¤‡']
})

// æ›´æ–°é…ç½®
const updateResult = await configurationAPIManager.updateConfiguration(
  'my-device-config',
  {
    data: {
      ...existingData,
      timeout: 10000
    }
  }
)
```

### 3. ä½¿ç”¨é…ç½®æ¨¡æ¿

```typescript
import { configurationTemplateManager } from '@/iot-visualization-platform/core/config-engine'

// è·å–å¯ç”¨æ¨¡æ¿
const templates = configurationTemplateManager.getAvailableTemplates(
  ConfigurationType.DEVICE_TEMPLATE
)

// ä½¿ç”¨æ¨¡æ¿åˆ›å»ºé…ç½®
const configFromTemplate = await configurationTemplateManager.createConfigurationFromTemplate(
  'builtin-device-template',
  {
    parameters: {
      deviceName: 'æ¸©åº¦ä¼ æ„Ÿå™¨01',
      deviceType: 'temperature',
      protocol: 'mqtt',
      address: 'sensor-01.local',
      port: 1883
    },
    environment: 'production',
    timestamp: new Date()
  }
)
```

### 4. Visual Editor é›†æˆ

```vue
<template>
  <div class="config-editor">
    <!-- é…ç½®é¢æ¿ -->
    <div v-if="panelState.visible" class="config-panel">
      <n-tabs v-model:value="panelState.activeTab">
        <n-tab-pane name="basic" tab="åŸºç¡€é…ç½®">
          <!-- åŸºç¡€é…ç½®è¡¨å• -->
        </n-tab-pane>
        <n-tab-pane name="validation" tab="éªŒè¯ç»“æœ">
          <div v-if="validationState">
            <n-alert
              v-if="!validationState.isValid"
              type="error"
              title="é…ç½®éªŒè¯å¤±è´¥"
            >
              <ul>
                <li v-for="error in validationState.errors" :key="error.code">
                  {{ error.message }}
                </li>
              </ul>
            </n-alert>
          </div>
        </n-tab-pane>
      </n-tabs>
    </div>

    <!-- æ“ä½œæŒ‰é’® -->
    <div class="toolbar">
      <n-button
        @click="actions.saveConfiguration"
        :disabled="!canSave"
        :loading="state.saveState === 'saving'"
      >
        ä¿å­˜é…ç½®
      </n-button>
      <n-button @click="undo" :disabled="!history.canUndo">
        æ’¤é”€
      </n-button>
      <n-button @click="redo" :disabled="!history.canRedo">
        é‡åš
      </n-button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useEditorConfigurationIntegration } from '@/iot-visualization-platform/core/config-engine'

const {
  state,
  panelState,
  history,
  actions,
  canSave,
  undo,
  redo
} = useEditorConfigurationIntegration()

// ç›‘å¬é…ç½®å˜æ›´
watch(() => state.currentConfig, (newConfig) => {
  if (newConfig) {
    console.log('å½“å‰é…ç½®å·²æ›´æ–°:', newConfig.id)
  }
})
</script>
```

## ğŸ“š è¯¦ç»†åŠŸèƒ½è¯´æ˜

### é…ç½®éªŒè¯ç³»ç»Ÿ

é…ç½®éªŒè¯å™¨æä¾›å¤šå±‚æ¬¡çš„éªŒè¯æœºåˆ¶ï¼š

```typescript
import { validateConfiguration, configurationValidator } from '@/iot-visualization-platform/core/config-engine'

// å•ä¸ªé…ç½®éªŒè¯
const validation = await validateConfiguration(configItem, {
  level: 'strict',
  environment: 'production'
})

if (!validation.isValid) {
  console.log('éªŒè¯å¤±è´¥:', validation.errors)
}

// æ‰¹é‡éªŒè¯
const bulkValidation = await configurationValidator.validateConfigurations(
  [config1, config2, config3]
)

// è‡ªå®šä¹‰éªŒè¯è§„åˆ™
configurationValidator.registerValidationRule({
  name: 'custom-device-rule',
  description: 'è‡ªå®šä¹‰è®¾å¤‡é…ç½®éªŒè¯',
  validate: async (item, context) => {
    const errors = []
    if (item.type === 'device-template' && !item.data.deviceId) {
      errors.push({
        code: 'MISSING_DEVICE_ID',
        message: 'è®¾å¤‡é…ç½®å¿…é¡»åŒ…å«è®¾å¤‡ID',
        path: 'data.deviceId',
        severity: 'error'
      })
    }
    return errors
  }
})
```

### ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ

å®Œæ•´çš„ Git å¼ç‰ˆæœ¬æ§åˆ¶ï¼š

```typescript
import { configurationVersionManager } from '@/iot-visualization-platform/core/config-engine'

// åˆ›å»ºç‰ˆæœ¬
await configurationVersionManager.createVersion(
  configItem,
  'æ›´æ–°è®¾å¤‡è¶…æ—¶é…ç½®',
  'minor',
  'å¼€å‘è€…'
)

// è·å–ç‰ˆæœ¬å†å²
const history = configurationVersionManager.getVersionHistory('config-id', {
  limit: 10,
  sortOrder: 'desc'
})

// ç‰ˆæœ¬å›æ»š
await configurationVersionManager.rollbackToVersion(
  'config-id',
  '1.2.0',
  {
    createBackup: true,
    reason: 'å›æ»šåˆ°ç¨³å®šç‰ˆæœ¬',
    operator: 'ç®¡ç†å‘˜',
    validate: true,
    force: false,
    triggerEvents: true
  }
)

// ç‰ˆæœ¬æ¯”è¾ƒ
const comparison = configurationVersionManager.compareVersions(
  'config-id',
  '1.2.0',
  '1.3.0'
)

if (comparison?.hasChanges) {
  console.log('ç‰ˆæœ¬å·®å¼‚:', comparison.changes)
}
```

### é…ç½®å¯¼å…¥å¯¼å‡º

æ”¯æŒå¤šç§æ ¼å¼çš„é…ç½®æ•°æ®äº¤æ¢ï¼š

```typescript
import { configurationTemplateManager } from '@/iot-visualization-platform/core/config-engine'

// å¯¼å‡ºé…ç½®
const exportResult = await configurationTemplateManager.exportConfigurations(
  configurations,
  {
    format: 'json',
    includeMetadata: true,
    includeHistory: false,
    compress: true,
    scope: {
      type: ConfigurationType.DEVICE_TEMPLATE
    }
  }
)

// å¯¼å…¥é…ç½®
const importResult = await configurationTemplateManager.importConfigurations(
  jsonData,
  {
    format: 'json',
    conflictResolution: 'merge',
    validate: true,
    createBackup: true,
    scope: {
      includeTypes: [ConfigurationType.DEVICE_TEMPLATE]
    }
  }
)

console.log(`å¯¼å…¥ç»“æœ: ${importResult.successCount}/${importResult.totalCount} æˆåŠŸ`)
```

## ğŸ”§ é«˜çº§é…ç½®

### ä¸­é—´ä»¶ç³»ç»Ÿ

```typescript
import { configurationAPIManager } from '@/iot-visualization-platform/core/config-engine'

// æ³¨å†Œè‡ªå®šä¹‰ä¸­é—´ä»¶
configurationAPIManager.registerMiddleware({
  name: 'audit-middleware',
  description: 'å®¡è®¡æ—¥å¿—ä¸­é—´ä»¶',
  priority: 150,
  execute: async (hook, data, options) => {
    if (hook === 'before-create' || hook === 'before-update') {
      // è®°å½•å®¡è®¡æ—¥å¿—
      console.log(`é…ç½®æ“ä½œå®¡è®¡: ${hook}`, {
        configId: data.id,
        operator: options.context?.userId,
        timestamp: new Date()
      })
    }
    return data
  }
})

// è®¾ç½®æƒé™ç®¡ç†å™¨
configurationAPIManager.setPermissionManager(async (operation, configId, userId) => {
  // å®ç°è‡ªå®šä¹‰æƒé™æ£€æŸ¥é€»è¾‘
  return await checkUserPermission(userId, operation, configId)
})
```

### äº‹ä»¶ç›‘å¬

```typescript
import { configEngine, visualEditorConfigurationIntegration } from '@/iot-visualization-platform/core/config-engine'

// ç›‘å¬é…ç½®å¼•æ“äº‹ä»¶
configEngine.on('configuration-created', (event) => {
  console.log('é…ç½®å·²åˆ›å»º:', event.item.id)
})

configEngine.on('configuration-updated', (event) => {
  console.log('é…ç½®å·²æ›´æ–°:', event.id)
})

// ç›‘å¬ç¼–è¾‘å™¨é›†æˆäº‹ä»¶
visualEditorConfigurationIntegration.on('configuration-saved', (event) => {
  console.log('ç¼–è¾‘å™¨é…ç½®å·²ä¿å­˜:', event.config.id)
})

visualEditorConfigurationIntegration.on('external-configuration-change', (event) => {
  // å¤„ç†å¤–éƒ¨é…ç½®å˜æ›´
  console.warn('é…ç½®è¢«å¤–éƒ¨ä¿®æ”¹:', event.configId)
})
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜é…ç½®

```typescript
// API ç®¡ç†å™¨ç¼“å­˜é…ç½®
configurationAPIManager.clearAPICache() // æ¸…é™¤æ‰€æœ‰ç¼“å­˜
configurationAPIManager.clearAPICache('device-') // æ¸…é™¤ç‰¹å®šæ¨¡å¼çš„ç¼“å­˜

// éªŒè¯å™¨ç¼“å­˜é…ç½®
configurationValidator.clearValidationCache() // æ¸…é™¤æ‰€æœ‰éªŒè¯ç¼“å­˜
configurationValidator.clearValidationCache('config-id') // æ¸…é™¤ç‰¹å®šé…ç½®çš„ç¼“å­˜
```

### æ‰¹é‡æ“ä½œ

```typescript
// æ‰¹é‡é…ç½®æ“ä½œ
const bulkOperations = [
  {
    operation: 'create',
    configurationId: 'config-1',
    data: config1Data
  },
  {
    operation: 'update',
    configurationId: 'config-2',
    data: updateData
  },
  {
    operation: 'delete',
    configurationId: 'config-3'
  }
]

const bulkResult = await configurationAPIManager.bulkOperations(bulkOperations)
```

## ğŸ” æ•…éšœæ’æŸ¥

### è°ƒè¯•æ¨¡å¼

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­å¯ä»¥è®¿é—®ä»¥ä¸‹è°ƒè¯•å¯¹è±¡ï¼š

```javascript
// æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
window.getConfigEngineSystemStatus()

// ç›´æ¥è®¿é—®å„ä¸ªç»„ä»¶
window.configEngine
window.configurationValidator
window.configurationAPIManager
window.configurationVersionManager
window.configurationTemplateManager
window.visualEditorConfigurationIntegration

// æ‰‹åŠ¨åˆå§‹åŒ–
window.initializeConfigEngine({
  enableVisualEditorIntegration: true,
  enableRealtimeValidation: true,
  enableAutoSave: false
})
```

### å¸¸è§é—®é¢˜

1. **é…ç½®éªŒè¯å¤±è´¥**
   - æ£€æŸ¥é…ç½®æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹éªŒè¯é”™è¯¯è¯¦æƒ…ï¼Œæ ¹æ®å»ºè®®ä¿®å¤
   - ç¡®è®¤è‡ªå®šä¹‰éªŒè¯è§„åˆ™æ˜¯å¦æ­£ç¡®

2. **ç‰ˆæœ¬å›æ»šå¤±è´¥**
   - ç¡®è®¤ç›®æ ‡ç‰ˆæœ¬å­˜åœ¨
   - æ£€æŸ¥æ˜¯å¦æœ‰æƒé™æ‰§è¡Œå›æ»šæ“ä½œ
   - éªŒè¯å›æ»šåçš„é…ç½®æ˜¯å¦æœ‰æ•ˆ

3. **Visual Editor é›†æˆé—®é¢˜**
   - ç¡®ä¿æ­£ç¡®å¯¼å…¥å’Œä½¿ç”¨ `useEditorConfigurationIntegration`
   - æ£€æŸ¥å“åº”å¼æ•°æ®çš„ç›‘å¬æ˜¯å¦æ­£ç¡®è®¾ç½®
   - ç¡®è®¤äº‹ä»¶ç›‘å¬å™¨çš„æ³¨å†Œå’Œæ¸…ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒ

1. ç¡®ä¿ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
2. æ‰€æœ‰ä»£ç å¿…é¡»åŒ…å«è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
3. éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œå‘½åçº¦å®š
4. æ–°å¢åŠŸèƒ½éœ€è¦åŒ…å«ç›¸åº”çš„ç±»å‹å®šä¹‰

### æäº¤è§„èŒƒ

- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤é—®é¢˜
- docs: æ–‡æ¡£æ›´æ–°
- style: ä»£ç é£æ ¼è°ƒæ•´
- refactor: é‡æ„
- test: æµ‹è¯•ç›¸å…³
- chore: æ„å»ºå’Œå·¥å…·ç›¸å…³

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª ThingsPanel å¼€æºé¡¹ç›®çš„è®¸å¯è¯åè®®ã€‚

---

æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒå„ä¸ªæ¨¡å—çš„å†…éƒ¨æ–‡æ¡£å’Œä»£ç æ³¨é‡Šã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·åœ¨ ThingsPanel ç¤¾åŒºä¸­æå‡ºã€‚