<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PanelEditor æ˜¾ç¤ºæ§åˆ¶åŠŸèƒ½å®Œæ•´æŒ‡å—</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }
        .demo-header {
            margin-bottom: 30px;
        }
        .demo-code {
            background: #f8f8f8;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #42b883;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .example-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .example-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .props-table {
            border-collapse: collapse;
            width: 100%;
            margin: 15px 0;
        }
        .props-table th,
        .props-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .props-table th {
            background-color: #f9f9f9;
            font-weight: bold;
        }
        .note {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #1890ff;
            margin: 15px 0;
        }
        .warning {
            background: #fff7e6;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #faad14;
            margin: 15px 0;
        }
        .success {
            background: #f6ffed;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #52c41a;
            margin: 15px 0;
        }
        .combo-table {
            border-collapse: collapse;
            width: 100%;
            margin: 15px 0;
            font-size: 14px;
        }
        .combo-table th,
        .combo-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .combo-table th {
            background-color: #f0f0f0;
        }
        .combo-table .yes { color: #52c41a; font-weight: bold; }
        .combo-table .no { color: #ff4d4f; font-weight: bold; }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ğŸ›ï¸ PanelEditor æ˜¾ç¤ºæ§åˆ¶åŠŸèƒ½å®Œæ•´æŒ‡å—</h1>
            <p>ç°åœ¨å¯ä»¥é€šè¿‡ <code>showToolbar</code> å’Œ <code>showPageHeader</code> props æ¥ç²¾ç¡®æ§åˆ¶ PanelEditor ç»„ä»¶çš„æ˜¾ç¤ºå…ƒç´ ã€‚</p>
        </div>

        <div class="success">
            <strong>âœ… é—®é¢˜å·²è§£å†³ï¼š</strong>
            <ul>
                <li>ä¿®å¤äº† <code>/visualization/visual-editor-details</code> é¡µé¢å·¥å…·æ æ˜¾ç¤ºé—®é¢˜</li>
                <li>æ–°å¢ <code>showPageHeader</code> propï¼Œå¯ä»¥éšè—é¡µé¢æ ‡é¢˜æ </li>
                <li>ä¿æŒå®Œå…¨å‘åå…¼å®¹ï¼Œé»˜è®¤å…¨éƒ¨æ˜¾ç¤º</li>
            </ul>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ“‹ Props å‚æ•°</div>
            <table class="props-table">
                <thead>
                    <tr>
                        <th>å‚æ•°</th>
                        <th>ç±»å‹</th>
                        <th>é»˜è®¤å€¼</th>
                        <th>è¯´æ˜</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>panelId</td>
                        <td>string</td>
                        <td>-</td>
                        <td>é¢æ¿IDï¼ˆå¿…éœ€ï¼‰</td>
                    </tr>
                    <tr>
                        <td>showToolbar</td>
                        <td>boolean</td>
                        <td>true</td>
                        <td>æ˜¯å¦æ˜¾ç¤ºç¼–è¾‘å™¨å·¥å…·æ ï¼ˆåŒ…å«æ¨¡å¼åˆ‡æ¢ã€ä¿å­˜ç­‰åŠŸèƒ½ï¼‰</td>
                    </tr>
                    <tr>
                        <td>showPageHeader</td>
                        <td>boolean</td>
                        <td>true</td>
                        <td>æ˜¯å¦æ˜¾ç¤ºé¡µé¢æ ‡é¢˜æ ï¼ˆåŒ…å«é¢æ¿åç§°å’Œå…¨å±æŒ‰é’®ï¼‰</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ”€ æ˜¾ç¤ºæ¨¡å¼ç»„åˆ</div>
            <p>ä¸¤ä¸ª props å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œå®ç°ä¸åŒçš„æ˜¾ç¤ºæ¨¡å¼ï¼š</p>
            <table class="combo-table">
                <thead>
                    <tr>
                        <th>showPageHeader</th>
                        <th>showToolbar</th>
                        <th>é¡µé¢æ ‡é¢˜æ </th>
                        <th>ç¼–è¾‘å™¨å·¥å…·æ </th>
                        <th>é€‚ç”¨åœºæ™¯</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>true (é»˜è®¤)</td>
                        <td>true (é»˜è®¤)</td>
                        <td class="yes">æ˜¾ç¤º</td>
                        <td class="yes">æ˜¾ç¤º</td>
                        <td>å®Œæ•´ç¼–è¾‘æ¨¡å¼</td>
                    </tr>
                    <tr>
                        <td>true</td>
                        <td>false</td>
                        <td class="yes">æ˜¾ç¤º</td>
                        <td class="no">éšè—</td>
                        <td>åªè¯»æ˜¾ç¤ºï¼Œä¿ç•™æ ‡é¢˜</td>
                    </tr>
                    <tr>
                        <td>false</td>
                        <td>true</td>
                        <td class="no">éšè—</td>
                        <td class="yes">æ˜¾ç¤º</td>
                        <td>ç´§å‡‘ç¼–è¾‘æ¨¡å¼</td>
                    </tr>
                    <tr>
                        <td>false</td>
                        <td>false</td>
                        <td class="no">éšè—</td>
                        <td class="no">éšè—</td>
                        <td>å®Œå…¨åµŒå…¥å¼æ˜¾ç¤º</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="example-section">
            <div class="example-title">âœ… é»˜è®¤æ˜¾ç¤ºï¼ˆå®Œæ•´ç¼–è¾‘æ¨¡å¼ï¼‰</div>
            <div class="demo-code">
&lt;!-- é»˜è®¤æ˜¾ç¤ºæ‰€æœ‰å…ƒç´  --&gt;
&lt;PanelEditor :panelId="'panel-001'" /&gt;

&lt;!-- æˆ–è€…æ˜ç¡®è®¾ç½® --&gt;
&lt;PanelEditor 
  :panelId="'panel-001'" 
  :showToolbar="true" 
  :showPageHeader="true" 
/&gt;
            </div>
            <p>è¿™æ˜¯é»˜è®¤è¡Œä¸ºï¼Œæ˜¾ç¤ºé¡µé¢æ ‡é¢˜æ å’Œå·¥å…·æ ï¼ŒåŒ…å«å®Œæ•´ç¼–è¾‘åŠŸèƒ½ã€‚</p>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ“º åªè¯»æ˜¾ç¤ºï¼ˆä¿ç•™æ ‡é¢˜ï¼‰</div>
            <div class="demo-code">
&lt;!-- éšè—å·¥å…·æ ï¼Œä¿ç•™é¡µé¢æ ‡é¢˜ --&gt;
&lt;PanelEditor 
  :panelId="'panel-001'" 
  :showToolbar="false" 
  :showPageHeader="true" 
/&gt;
            </div>
            <p>é€‚åˆéœ€è¦æ˜¾ç¤ºé¢æ¿åç§°ä½†ä¸å…è®¸ç¼–è¾‘çš„åœºæ™¯ã€‚</p>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ¯ ç´§å‡‘ç¼–è¾‘æ¨¡å¼</div>
            <div class="demo-code">
&lt;!-- éšè—é¡µé¢æ ‡é¢˜æ ï¼Œä¿ç•™å·¥å…·æ  --&gt;
&lt;PanelEditor 
  :panelId="'panel-001'" 
  :showToolbar="true" 
  :showPageHeader="false" 
/&gt;
            </div>
            <p>èŠ‚çœé¡µé¢ç©ºé—´ï¼Œä¿ç•™ç¼–è¾‘åŠŸèƒ½ï¼Œé€‚åˆç©ºé—´æœ‰é™çš„åœºæ™¯ã€‚</p>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ“± å®Œå…¨åµŒå…¥å¼æ˜¾ç¤º</div>
            <div class="demo-code">
&lt;!-- éšè—æ‰€æœ‰éå†…å®¹å…ƒç´  --&gt;
&lt;PanelEditor 
  :panelId="'panel-001'" 
  :showToolbar="false" 
  :showPageHeader="false" 
/&gt;
            </div>
            <p>æœ€é€‚åˆåµŒå…¥åˆ°å…¶ä»–é¡µé¢ä¸­çš„çº¯å†…å®¹æ˜¾ç¤ºã€‚</p>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ› ï¸ å®é™…ä¿®å¤ç¤ºä¾‹</div>
            <h4>visual-editor-details é¡µé¢ä¿®å¤</h4>
            <div class="demo-code">
&lt;!-- ä¿®å¤å‰ï¼šæ²¡æœ‰æ˜ç¡®ä¼ é€’ showToolbar --&gt;
&lt;PanelEditor 
  :panelId="panel_id" 
  @state-manager-ready="handleStateManagerReady" 
/&gt;

&lt;!-- ä¿®å¤åï¼šæ˜ç¡®ä¼ é€’ showToolbar="true" --&gt;
&lt;PanelEditor 
  ref="panelEditor" 
  :panel-id="panel_id" 
  :show-toolbar="true"
  @state-manager-ready="handleStateManagerReady" 
/&gt;
            </div>
        </div>

        <div class="example-section">
            <div class="example-title">ğŸ“± å®é™…åº”ç”¨åœºæ™¯</div>
            
            <h4>1. æƒé™æ§åˆ¶</h4>
            <div class="demo-code">
&lt;template&gt;
  &lt;PanelEditor 
    :panelId="dashboardId" 
    :showToolbar="canEdit" 
    :showPageHeader="showTitle"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { computed } from 'vue'
import { useAuthStore } from '@/store/modules/auth'

const authStore = useAuthStore()
const dashboardId = 'dashboard-001'

// æ ¹æ®ç”¨æˆ·æƒé™æ§åˆ¶åŠŸèƒ½æ˜¾ç¤º
const canEdit = computed(() => 
  authStore.user?.permissions?.includes('dashboard:edit')
)

const showTitle = computed(() => 
  authStore.user?.permissions?.includes('dashboard:view_title')
)
&lt;/script&gt;
            </div>

            <h4>2. å“åº”å¼é€‚é…</h4>
            <div class="demo-code">
&lt;template&gt;
  &lt;PanelEditor 
    :panelId="panelId" 
    :showToolbar="!isMobile || isTablet"
    :showPageHeader="!isMobile"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { useBreakpoints } from '@vueuse/core'

const breakpoints = useBreakpoints({
  mobile: 768,
  tablet: 1024
})

const isMobile = breakpoints.smaller('mobile')
const isTablet = breakpoints.between('mobile', 'tablet')
&lt;/script&gt;
            </div>

            <h4>3. æ¨¡å¼åˆ‡æ¢</h4>
            <div class="demo-code">
&lt;template&gt;
  &lt;div class="dashboard-container"&gt;
    &lt;!-- æ¨¡å¼åˆ‡æ¢æŒ‰é’® --&gt;
    &lt;n-space class="mb-4"&gt;
      &lt;n-button @click="mode = 'full'"&gt;å®Œæ•´æ¨¡å¼&lt;/n-button&gt;
      &lt;n-button @click="mode = 'compact'"&gt;ç´§å‡‘æ¨¡å¼&lt;/n-button&gt;
      &lt;n-button @click="mode = 'embedded'"&gt;åµŒå…¥æ¨¡å¼&lt;/n-button&gt;
    &lt;/n-space&gt;

    &lt;!-- åŠ¨æ€æ§åˆ¶æ˜¾ç¤º --&gt;
    &lt;PanelEditor 
      :panelId="panelId" 
      :showToolbar="mode !== 'embedded'"
      :showPageHeader="mode === 'full'"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const mode = ref('full') // 'full' | 'compact' | 'embedded'
const panelId = 'dynamic-dashboard-001'
&lt;/script&gt;
            </div>
        </div>

        <div class="warning">
            <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
            <ul>
                <li>éšè—å·¥å…·æ æ—¶ï¼Œæ‰€æœ‰ç¼–è¾‘åŠŸèƒ½ï¼ˆæ¨¡å¼åˆ‡æ¢ã€ä¿å­˜ã€å¯¼å…¥å¯¼å‡ºç­‰ï¼‰å°†ä¸å¯ç”¨</li>
                <li>éšè—é¡µé¢æ ‡é¢˜æ æ—¶ï¼Œå…¨å±æŒ‰é’®ä¹Ÿä¼šéšè—</li>
                <li>å·¦å³æŠ½å±‰ï¼ˆç»„ä»¶åº“å’Œå±æ€§é¢æ¿ï¼‰çš„æ˜¾ç¤ºä¸å—è¿™äº› props å½±å“</li>
                <li>è¿™ä¸¤ä¸ªåŠŸèƒ½ä¸»è¦é€‚ç”¨äºåµŒå…¥å¼æˆ–åªè¯»æ˜¾ç¤ºåœºæ™¯</li>
            </ul>
        </div>

        <div class="note">
            <strong>ğŸ‰ å‘åå…¼å®¹ï¼š</strong>
            <ul>
                <li>ä¸ä¼ é€’ä»»ä½•æ–° props æ—¶ï¼Œç»„ä»¶è¡Œä¸ºä¸ä¹‹å‰å®Œå…¨ä¸€è‡´</li>
                <li>æ‰€æœ‰ç°æœ‰é¡µé¢æ— éœ€ä¿®æ”¹å³å¯æ­£å¸¸ä½¿ç”¨</li>
                <li>æ–°åŠŸèƒ½å®Œå…¨å¯é€‰ï¼ŒæŒ‰éœ€ä½¿ç”¨</li>
            </ul>
        </div>
    </div>
</body>
</html>