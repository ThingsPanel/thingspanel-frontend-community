<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å±æ€§ç»‘å®šé¢æ¿ä¿®å¤æµ‹è¯•</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-container {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .test-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 24px;
    }
    .test-section {
      margin-bottom: 32px;
      padding: 20px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background: #fafafa;
    }
    .step {
      margin-bottom: 16px;
      padding: 12px;
      background: white;
      border-radius: 6px;
      border-left: 4px solid #2080f0;
    }
    .step h4 {
      margin: 0 0 8px 0;
      color: #333;
    }
    .step p {
      margin: 0;
      color: #666;
      font-size: 14px;
    }
    .issue-fixed {
      background: #f6ffed;
      border-left-color: #52c41a;
    }
    .issue-fixed h4 {
      color: #52c41a;
    }
    .nav-link {
      display: inline-block;
      padding: 12px 24px;
      background: #2080f0;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      margin-right: 12px;
      margin-bottom: 12px;
      transition: all 0.3s ease;
    }
    .nav-link:hover {
      background: #40a9ff;
      transform: translateY(-1px);
    }
    .code-block {
      background: #f8f8f8;
      padding: 16px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #333;
      margin: 12px 0;
      border: 1px solid #e0e0e0;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="test-header">
      <h1>ğŸ”§ å±æ€§ç»‘å®šé¢æ¿ä¿®å¤æµ‹è¯•</h1>
      <p>ä¿®å¤é€‰æ‹©"å±æ€§ç»‘å®š"æ–¹å¼æ—¶é¢æ¿ä¸ç«‹å³æ‰“å¼€çš„é—®é¢˜</p>
    </div>

    <div class="test-section">
      <h3>ğŸ¯ ä¿®å¤çš„é—®é¢˜</h3>
      
      <div class="step">
        <h4>é—®é¢˜æè¿°</h4>
        <p>å½“ç”¨æˆ·åœ¨å‚æ•°ç¼–è¾‘å™¨ä¸­é€‰æ‹©"æ·»åŠ å‚æ•°" â†’ "å¡ç‰‡å±æ€§ç»‘å®š"æ—¶ï¼Œå±æ€§é€‰æ‹©é¢æ¿æ²¡æœ‰ç«‹å³æ‰“å¼€ï¼Œéœ€è¦ç”¨æˆ·é¢å¤–ç‚¹å‡»ä¸‹æ‹‰é€‰é¡¹æ‰ä¼šå‡ºç°</p>
      </div>

      <div class="step issue-fixed">
        <h4>âœ… å·²ä¿®å¤ï¼šæ–°å¢å‚æ•°æ—¶ç«‹å³æ˜¾ç¤ºé¢æ¿</h4>
        <p>ä¿®æ”¹äº† handleSelectAddOption å‡½æ•°ï¼Œé€‰æ‹©å±æ€§ç»‘å®šæ—¶ç«‹å³æ·»åŠ å‚æ•°å¹¶æ‰“å¼€å±æ€§é€‰æ‹©æŠ½å±‰</p>
      </div>

      <div class="step issue-fixed">
        <h4>âœ… å·²ä¿®å¤ï¼šåˆ‡æ¢æ¨¡æ¿æ—¶ç«‹å³æ˜¾ç¤ºé¢æ¿</h4>
        <p>ä¿®æ”¹äº† onTemplateChange å‡½æ•°ï¼Œåˆ‡æ¢åˆ°å±æ€§ç»‘å®šæ¨¡æ¿æ—¶ç«‹å³æ‰“å¼€æŠ½å±‰</p>
      </div>

      <div class="step issue-fixed">
        <h4>âœ… å·²ä¿®å¤ï¼šæ·»åŠ é‡æ–°é…ç½®æŒ‰é’®</h4>
        <p>åœ¨å±æ€§ç»‘å®šå‚æ•°çš„è¯¦æƒ…é¢æ¿ä¸­æ·»åŠ "é‡æ–°é…ç½®"æŒ‰é’®ï¼Œç”¨æˆ·å¯ä»¥éšæ—¶é‡æ–°æ‰“å¼€å±æ€§é€‰æ‹©å™¨</p>
      </div>
    </div>

    <div class="test-section">
      <h3>ğŸš€ æµ‹è¯•æ­¥éª¤</h3>
      
      <div class="step">
        <h4>æ­¥éª¤ 1ï¼šè®¿é—®æ•°æ®æºç³»ç»Ÿæµ‹è¯•é¡µé¢</h4>
        <p>æ‰“å¼€æ•°æ®ç»‘å®šç³»ç»Ÿé›†æˆæµ‹è¯•é¡µé¢</p>
        <a href="http://localhost:5002/test/data-source-system" class="nav-link" target="_blank">
          æ‰“å¼€æ•°æ®æºç³»ç»Ÿæµ‹è¯•
        </a>
      </div>

      <div class="step">
        <h4>æ­¥éª¤ 2ï¼šæµ‹è¯•æ–°å¢å±æ€§ç»‘å®šå‚æ•°</h4>
        <p>1. æ‰¾åˆ°ä»»ä½•HTTPé…ç½®è¡¨å•ï¼ˆæŸ¥è¯¢å‚æ•°ã€è¯·æ±‚å¤´ç­‰ï¼‰<br>
           2. ç‚¹å‡»"æ·»åŠ å‚æ•°"ä¸‹æ‹‰æŒ‰é’®<br>
           3. é€‰æ‹©"å¡ç‰‡å±æ€§ç»‘å®š"<br>
           4. <strong>éªŒè¯ï¼šå±æ€§é€‰æ‹©é¢æ¿åº”ç«‹å³æ‰“å¼€</strong></p>
      </div>

      <div class="step">
        <h4>æ­¥éª¤ 3ï¼šæµ‹è¯•æ¨¡æ¿åˆ‡æ¢</h4>
        <p>1. ä¸ºå·²æœ‰å‚æ•°ç‚¹å‡»"é…ç½®"æŒ‰é’®<br>
           2. åœ¨ç±»å‹ä¸‹æ‹‰ä¸­é€‰æ‹©å«æœ‰"å±æ€§ç»‘å®š"çš„é€‰é¡¹<br>
           3. <strong>éªŒè¯ï¼šå±æ€§é€‰æ‹©é¢æ¿åº”ç«‹å³æ‰“å¼€</strong></p>
      </div>

      <div class="step">
        <h4>æ­¥éª¤ 4ï¼šæµ‹è¯•é‡æ–°é…ç½®åŠŸèƒ½</h4>
        <p>1. å¯¹äºå·²é…ç½®çš„å±æ€§ç»‘å®šå‚æ•°<br>
           2. åœ¨è¯¦æƒ…é¢æ¿ä¸­åº”çœ‹åˆ°"é‡æ–°é…ç½®"æŒ‰é’®<br>
           3. ç‚¹å‡»æŒ‰é’®ï¼Œ<strong>éªŒè¯ï¼šå±æ€§é€‰æ‹©é¢æ¿é‡æ–°æ‰“å¼€</strong></p>
      </div>
    </div>

    <div class="test-section">
      <h3>ğŸ” ä¿®å¤çš„ä»£ç æ”¹åŠ¨</h3>
      
      <div class="step">
        <h4>ä¿®æ”¹ç‚¹ 1ï¼šhandleSelectAddOption å‡½æ•°</h4>
        <div class="code-block">
case 'property':
  // ğŸ”¥ ä¿®å¤ï¼šå±æ€§ç»‘å®š - ç«‹å³æ˜¾ç¤ºé¢æ¿
  newParam.selectedTemplate = 'component-property-binding'
  newParam.valueMode = ParameterTemplateType.COMPONENT
  
  // æ·»åŠ å‚æ•°
  const updatedParams = [...props.modelValue, newParam]
  emit('update:modelValue', updatedParams)
  
  // ç«‹å³è®¾ç½®ç¼–è¾‘çŠ¶æ€å¹¶æ‰“å¼€æŠ½å±‰
  const newParamIndex = updatedParams.length - 1
  editingIndex.value = newParamIndex
  
  nextTick(() => {
    // ç›´æ¥æ‰“å¼€ç»„ä»¶å±æ€§é€‰æ‹©æŠ½å±‰
    openComponentDrawer(newParam)
  })
  return // æå‰è¿”å›ï¼Œé¿å…é‡å¤å¤„ç†
        </div>
      </div>

      <div class="step">
        <h4>ä¿®æ”¹ç‚¹ 2ï¼šç»„ä»¶æ¨¡å¼æ˜¾ç¤ºå¢å¼º</h4>
        <div class="code-block">
&lt;div v-else-if="param.valueMode === 'component'" class="component-simple"&gt;
  &lt;n-space&gt;
    &lt;n-tag size="small" type="success"&gt;
      {{ param.selectedTemplate === 'component-property-binding' ? 'å±æ€§ç»‘å®š' : 'è®¾å¤‡å‚æ•°' }}
    &lt;/n-tag&gt;
    &lt;n-text depth="3"&gt;{{ param.value || 'æœªè®¾ç½®' }}&lt;/n-text&gt;
    &lt;!-- ğŸ”¥ æ·»åŠ é‡æ–°é…ç½®æŒ‰é’® --&gt;
    &lt;n-button size="tiny" type="primary" text @click="openComponentDrawer(param)"&gt;
      é‡æ–°é…ç½®
    &lt;/n-button&gt;
  &lt;/n-space&gt;
&lt;/div&gt;
        </div>
      </div>
    </div>

    <div class="test-section">
      <h3>ğŸ“‹ é¢„æœŸç»“æœ</h3>
      
      <div class="step issue-fixed">
        <h4>âœ… ç«‹å³å“åº”</h4>
        <p>é€‰æ‹©å±æ€§ç»‘å®šæ–¹å¼æ—¶ï¼Œå±æ€§é€‰æ‹©é¢æ¿ç«‹å³æ‰“å¼€ï¼Œæ— éœ€é¢å¤–æ“ä½œ</p>
      </div>

      <div class="step issue-fixed">
        <h4>âœ… ç”¨æˆ·ä½“éªŒæå‡</h4>
        <p>ç”¨æˆ·æ“ä½œæµç¨‹æ›´é¡ºç•…ï¼Œå‡å°‘äº†å›°æƒ‘å’Œé¢å¤–ç‚¹å‡»</p>
      </div>

      <div class="step issue-fixed">
        <h4>âœ… ä¸€è‡´æ€§æ”¹è¿›</h4>
        <p>æ‰€æœ‰ç»„ä»¶ç±»å‹çš„é…ç½®æ–¹å¼ä¿æŒä¸€è‡´çš„äº¤äº’ä½“éªŒ</p>
      </div>
    </div>

    <div class="test-section">
      <h3>ğŸ”— ç›¸å…³æµ‹è¯•é“¾æ¥</h3>
      <a href="http://localhost:5002/test/data-source-system" class="nav-link" target="_blank">
        æ•°æ®æºç³»ç»Ÿæµ‹è¯•
      </a>
      <a href="http://localhost:5002/test/data-binding-system-integration" class="nav-link" target="_blank">
        æ•°æ®ç»‘å®šç³»ç»Ÿé›†æˆæµ‹è¯•
      </a>
      <a href="http://localhost:5002/test/editor-integration" class="nav-link" target="_blank">
        ç¼–è¾‘å™¨é›†æˆæµ‹è¯•
      </a>
    </div>
  </div>
</body>
</html>